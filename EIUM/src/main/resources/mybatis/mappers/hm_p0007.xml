<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.hm_p0007">
	<resultMap id="P0007resultVO" type="HM_P0007VO">
		<result property="employee_code" column="employee_code" />
        <result property="employee_name" column="employee_name" />
         <result property="employee_name_hn" column="employee_name_hn" />
        <result property="hire_type" column="hire_type" />
        <result property="hire_number" column="hire_number" />
        <result property="current_address" column="current_address" />
        <result property="current_address_detail" column="current_address_detail" />
        <result property="resist_address" column="resist_address" />
        <result property="resist_address_detail" column="resist_address_detail" />
        <result property="marriage_yn" column="marriage_yn" />
        <result property="religion" column="religion" />
        <result property="military_type" column="military_type" />
        <result property="military_number" column="military_number" />
        <result property="discharge_yn" column="discharge_yn" />
        <result property="residential_division" column="residential_division" />
        <result property="hr_appoint_number" column="hr_appoint_number" />
        <result property="hr_appoint_date" column="hr_appoint_date" />
        <result property="hr_appoint_title" column="hr_appoint_title" />
        <result property="hr_appoint_history" column="hr_appoint_history" />
        <result property="hr_appoint_before_info" column="hr_appoint_before_info" />
        <result property="hr_appoint_current_info" column="hr_appoint_current_info" />
        <result property="hr_appoint_after_info" column="hr_appoint_after_info" />
        <result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap> 
 
	<select id="searchList" resultMap="P0007resultVO" parameterType="java.util.Map"> 
      <![CDATA[
         select e.employee_code, e.employee_name, eh.employee_name_hn, eh.hire_type, eh.hire_number,  eh.current_address, eh.current_address_detail, eh.resist_address, eh.resist_address_detail, eh.marriage_yn, eh.religion, eh.military_type, eh.military_number, eh.discharge_yn, eh.residential_division
         from employee e, employee_hr_info eh
         where e.employee_code = eh.employee_code
         order by e.employee_code
      ]]>
<!-- , hr_appoint ha , ha.hr_appoint_number, ha.hr_appoint_date, ha.hr_appoint_title, ha.hr_appoint_history, ha.hr_appoint_before_info, ha.hr_appoint_current_info, ha.hr_appoint_after_info      
 -->	</select>
	
	<!--학력  -->


	<resultMap id="p0007_02resultVO" type="HM_P0007_02VO">
		<result property="education_code" column="education_code" />
		<result property="employee_code" column="employee_code" />
		<result property="school_name" column="school_name" />
		<result property="start_date" column="start_date" />
		<result property="end_date" column="end_date" />
		<result property="available" column="available" />
		<result property="major" column="major" />
		<result property="minor" column="minor" />
		<result property="graduate_yn" column="graduate_yn" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchEducation" resultMap="p0007_02resultVO">
      <![CDATA[
         select education_code, school_name, start_date, end_date, available, major, minor, graduate_yn
         from employee_education
         where employee_code = #{x}
               ]]>
	</select>
	
	<insert id="insertEducation" parameterType="java.util.Map">
		insert into employee_education(employee_code,education_code,school_name,start_date,end_date,available,major,minor,graduate_yn, int_user_id, int_date) 
		values(#{x},education_code_seq.nextval,#{school_name},#{start_date},#{end_date},#{available},#{major},#{minor}, #{graduate_yn}, #{user}, sysdate)
	</insert>	
	
	<update id="updateEducation" parameterType="java.util.Map">
		update employee_education
		set school_name = #{school_name}
		   , start_date = #{start_date}
		   , end_date = #{end_date}
		   , available = #{available}
		   , major = #{major}
		   , minor = #{minor}
		   , graduate_yn = #{graduate_yn}
		    , upt_user_id = #{user}
		   , upt_date = sysdate
		where education_code = #{education_code}
	</update>	
	
 
	
	<delete id="deleteEducation" parameterType="java.util.Map">
		delete employee_education
		where education_code = #{education_code}
	</delete>
	
	<!--경력  -->


	<resultMap id="p0007_03resultVO" type="HM_P0007_03VO">
		<result property="career_code" column="career_code" />
		<result property="employee_code" column="employee_code" />
		<result property="company_name" column="company_name" />
		<result property="start_date" column="start_date" />
		<result property="end_date" column="end_date" />
		<result property="sum_year" column="sum_year" />
		<result property="role" column="role" />
		<result property="position" column="position" />
		<result property="salary" column="salary" />
		<result property="reason" column="reason" />
		<result property="total_work" column="total_work" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchCareer" resultMap="p0007_03resultVO">
      <![CDATA[
         select career_code, company_name, start_date, end_date, sum_year, role, position, salary, reason, total_work
         from employee_career
         where employee_code = #{x}
               ]]>
	</select>
	
	<insert id="insertCareer" parameterType="java.util.Map">
		insert into employee_career(employee_code,career_code,company_name,start_date,end_date,sum_year,role,position,salary, reason, total_work, int_user_id, int_date) 
		values(#{x},carrer_code_seq.nextval,#{company_name},#{start_date},#{end_date},#{sum_year},#{role},#{position}, #{salary}, #{reason}, #{total_work}, #{user}, sysdate)
	</insert>	
	
	<update id="updateCareer" parameterType="java.util.Map">
		update employee_career
		set company_name = #{company_name}
		   , start_date = #{start_date}
		   , end_date = #{end_date}
		   , sum_year = #{sum_year}
		   , role = #{role}
		   , position = #{position}
		   , salary = #{salary}
		   , reason = #{reason}
		   , total_work = #{total_work}
		    , upt_user_id = #{user}
		   , upt_date = sysdate
		where career_code = #{career_code}
	</update>	
	
 
	
	<delete id="deleteCareer" parameterType="java.util.Map">
		delete employee_career
		where career_code = #{career_code}
	</delete>
	
	<!--면허/자격  -->


	<resultMap id="p0007_04resultVO" type="HM_P0007_04VO">
		<result property="license_code" column="license_code" />
		<result property="employee_code" column="employee_code" />
		<result property="license_type" column="license_type" />
		<result property="start_date" column="start_date" />
		<result property="end_date" column="end_date" />
		<result property="license_number" column="license_number" />
		<result property="institute" column="institute" />
		<result property="bonus" column="bonus" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchLicense" resultMap="p0007_04resultVO">
      <![CDATA[
         select license_code, license_type, start_date, end_date, license_number, institute, bonus
         from employee_license
         where employee_code = #{x}
               ]]>
	</select>
	
	<insert id="insertLicense" parameterType="java.util.Map">
		insert into employee_license(employee_code,license_code,license_type,start_date,end_date,license_number,institute,bonus,int_user_id,int_date) 
		values(#{x},license_code_seq.nextval,#{license_type},#{start_date},#{end_date},#{license_number},#{institute},#{bonus},#{user},sysdate)
	</insert>	
	
	<update id="updateLicense" parameterType="java.util.Map">
		update employee_license
		set license_type = #{license_type}
		   , start_date = #{start_date}
		   , end_date = #{end_date}
		   , license_number = #{license_number}
		   , institute = #{institute}
		   , bonus = #{bonus}
		   , upt_user_id = #{user}
		   , upt_date = sysdate
		where license_code = #{license_code}
	</update>	
	
 
	
	<delete id="deleteLicense" parameterType="java.util.Map">
		delete employee_license
		where license_code = #{license_code}
	</delete>
	
<!--인사발령  -->


	<resultMap id="p0007_05resultVO" type="HM_P0007_05VO">
		<result property="employee_code" column="employee_code" />
		<result property="hr_appoint_number" column="hr_appoint_number" />
		<result property="hr_appoint_date" column="hr_appoint_date" />
		<result property="hr_appoint_title" column="hr_appoint_title" />
		<result property="hr_appoint_history" column="hr_appoint_history" />
		<result property="hr_appoint_before_info" column="hr_appoint_before_info" />
		<result property="hr_appoint_current_info" column="hr_appoint_current_info" />
		<result property="hr_appoint_after_info" column="hr_appoint_after_info" />
		
	</resultMap>

	<select id="searchAppoint" resultMap="p0007_05resultVO">
      <![CDATA[
         select hr_appoint_number, hr_appoint_date, hr_appoint_title, hr_appoint_history, hr_appoint_before_info, hr_appoint_current_info, hr_appoint_after_info
         from hr_appoint
         where employee_code = #{x}
               ]]>
	</select>
	
	<!--인사고과  -->


	<resultMap id="p0007_06resultVO" type="HM_P0007_06VO">
		<result property="hr_assessment_code" column="hr_assessment_code" />
		<result property="employee_code" column="employee_code" />
		<result property="hr_assessment_name" column="hr_assessment_name" />
		<result property="hr_assessment_test_start_date" column="hr_assessment_test_start_date" />
		<result property="hr_assessment_test_end_date" column="hr_assessment_test_end_date" />
		<result property="hr_assessment_date" column="hr_assessment_date" />
		<result property="hr_assessment_master" column="hr_assessment_master" />
		<result property="hr_assessment_reflection_pcnt" column="hr_assessment_reflection_pcnt" />
		<result property="hr_assessment_score" column="hr_assessment_score" />
		<result property="hr_assessment_grade" column="hr_assessment_grade" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchAssessment" resultMap="p0007_06resultVO">
      <![CDATA[
         select hr_assessment_code, hr_assessment_name, hr_assessment_test_start_date, hr_assessment_test_end_date, hr_assessment_date, hr_assessment_master, hr_assessment_reflection_pcnt, hr_assessment_score, hr_assessment_grade
         from hr_assessment
         where employee_code = #{x}
               ]]>
	</select>
	
	<insert id="insertAssessment" parameterType="java.util.Map">
		insert into hr_assessment(employee_code,hr_assessment_code,hr_assessment_name,hr_assessment_test_start_date,hr_assessment_test_end_date,hr_assessment_date,hr_assessment_master,hr_assessment_reflection_pcnt,hr_assessment_score,hr_assessment_grade,int_user_id,int_date) 
		values(#{x},hr_assessment_code_seq.nextval,#{hr_assessment_name},#{hr_assessment_test_start_date},#{hr_assessment_test_end_date},#{hr_assessment_date},#{hr_assessment_master},#{hr_assessment_reflection_pcnt},#{hr_assessment_score},#{hr_assessment_grade},#{user},sysdate)
	</insert>	
	
	<update id="updateAssessment" parameterType="java.util.Map">
		update hr_assessment
		set hr_assessment_name = #{license_type}
		   , hr_assessment_test_start_date = #{hr_assessment_test_start_date}
		   , hr_assessment_test_end_date = #{hr_assessment_test_end_date}
		   , hr_assessment_date = #{hr_assessment_date}
		   , hr_assessment_master = #{hr_assessment_master}
		   , hr_assessment_reflection_pcnt = #{hr_assessment_reflection_pcnt}
		   , hr_assessment_score = #{hr_assessment_score}
		   , hr_assessment_grade = #{hr_assessment_grade}
		   , upt_user_id = #{user}
		   , upt_date = sysdate
		where hr_assessment_code = #{hr_assessment_code}
	</update>	
	
 
	
	<delete id="deleteAssessment" parameterType="java.util.Map">
		delete hr_assessment
		where hr_assessment_code = #{hr_assessment_code}
	</delete>
	
	<!--근태  -->


	<resultMap id="p0007_07resultVO" type="HM_P0007_07VO">
		<result property="employee_code" column="employee_code" />
		<result property="hr_appoint_number" column="hr_appoint_number" />
		<result property="hr_appoint_date" column="hr_appoint_date" />
		<result property="hr_appoint_title" column="hr_appoint_title" />
		<result property="hr_appoint_history" column="hr_appoint_history" />
		<result property="hr_appoint_before_info" column="hr_appoint_before_info" />
		<result property="hr_appoint_current_info" column="hr_appoint_current_info" />
		<result property="hr_appoint_after_info" column="hr_appoint_after_info" />
		
	</resultMap>

	<select id="searchWorking_status" resultMap="p0007_07resultVO">
      <![CDATA[
         select hr_appoint_number, hr_appoint_date, hr_appoint_title, hr_appoint_history, hr_appoint_before_info, hr_appoint_current_info, hr_appoint_after_info
         from hr_appoint
         where employee_code = #{x}
               ]]>
	</select>
	
	<!--출장  -->


	<resultMap id="p0007_08resultVO" type="HM_P0007_08VO">
		<result property="business_trip_code" column="business_trip_code" />
		<result property="employee_code" column="employee_code" />
		<result property="country" column="country" />
		<result property="area" column="area" />
		<result property="start_date" column="start_date" />
		<result property="end_date" column="end_date" />
		<result property="flight_cost" column="flight_cost" />
		<result property="self_charge_yn" column="self_charge_yn" />
		<result property="ect_cost" column="ect_cost" />
		<result property="total_cost" column="total_cost" />
		<result property="purpose" column="purpose" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchBusiness_trip" resultMap="p0007_08resultVO">
      <![CDATA[
          select business_trip_code, country, area, start_date, end_date, flight_cost, self_charge_yn, ect_cost, total_cost, purpose
         from employee_business_trip
         where employee_code = #{x}
               ]]>
	</select>
	<insert id="insertemployee_business_trip" parameterType="java.util.Map">
		insert into employee_business_trip(employee_code,business_trip_code,country,area,start_date,end_date,flight_cost,self_charge_yn,ect_cost,total_cost,int_user_id,int_date) 
		values(#{x},business_trip_code_seq,#{country},#{area},#{start_date},#{end_date},#{flight_cost},#{self_charge_yn},#{ect_cost},#{total_cost},#{user},sysdate)
	</insert>	
	
	<update id="updateemployee_business_trip" parameterType="java.util.Map">
		update employee_business_trip
		set country = #{country}
		   , area = #{area}
		   , start_date = #{start_date}
		   , end_date = #{end_date}
		   , flight_cost = #{flight_cost}
		   , self_charge_yn = #{self_charge_yn}
		   , ect_cost = #{ect_cost}
		   , total_cost = #{total_cost}
		   , upt_user_id = #{user}
		   , upt_date = sysdate
		where business_trip_code = #{business_trip_code}
	</update>	
	
 
	
	<delete id="deleteemployee_business_trip" parameterType="java.util.Map">
		delete employee_business_trip
		where business_trip_code = #{business_trip_code}
	</delete>
	
	<!--상벌관리  -->


	<resultMap id="p0007_09resultVO" type="HM_P0007_09VO">
		<result property="hr_rnp_code" column="hr_rnp_code" />
		<result property="employee_code" column="employee_code" />
		<result property="hr_rnp_index" column="hr_rnp_index" />
		<result property="hr_rnp_name" column="hr_rnp_name" />
		<result property="hr_rnp_date" column="hr_rnp_date" />
		<result property="hr_rnp_history" column="hr_rnp_history" />
		<result property="hr_rnp_institute" column="hr_rnp_institute" />
		<result property="hr_rnp_cost" column="hr_rnp_cost" />
		<result property="hr_rnp_start_date" column="hr_rnp_start_date" />
		<result property="hr_rnp_end_date" column="hr_rnp_end_date" />
		<result property="int_user_id" column="int_user_id" />
        <result property="int_date" column="int_date" />
        <result property="upt_user_id" column="upt_user_id" />
        <result property="upt_date" column="upt_date" />
	</resultMap>

	<select id="searchRnp" resultMap="p0007_09resultVO">
      <![CDATA[
         select hr_rnp_code, hr_rnp_index, hr_rnp_name, hr_rnp_date, hr_rnp_history, hr_rnp_institute, hr_rnp_cost, hr_rnp_start_date, hr_rnp_end_date
         from hr_rnp
         where employee_code = #{x}
               ]]>
	</select>
	
	<insert id="inserthr_rnp" parameterType="java.util.Map">
		insert into hr_rnp(employee_code,hr_rnp_code,hr_rnp_index,hr_rnp_name,hr_rnp_date,hr_rnp_history,hr_rnp_institute,hr_rnp_cost,hr_rnp_start_date,hr_rnp_end_date,int_user_id,int_date) 
		values(#{x},hr_rnp_code_seq,#{hr_rnp_index},#{hr_rnp_name},#{hr_rnp_date},#{hr_rnp_history},#{hr_rnp_institute},#{hr_rnp_cost},#{hr_rnp_start_date},#{hr_rnp_end_date},#{user},sysdate)
	</insert>	
	
	<update id="updatehr_rnp" parameterType="java.util.Map">
		update hr_rnp
		set hr_rnp_index = #{hr_rnp_index}
		   , hr_rnp_name = #{hr_rnp_name}
		   , hr_rnp_date = #{hr_rnp_date}
		   , hr_rnp_history = #{hr_rnp_history}
		   , hr_rnp_institute = #{hr_rnp_institute}
		   , hr_rnp_cost = #{hr_rnp_cost}
		   , hr_rnp_start_date = #{hr_rnp_start_date}
		   , hr_rnp_end_date = #{hr_rnp_end_date}
		   , upt_user_id = #{user}
		   , upt_date = sysdate
		where hr_rnp_code = #{hr_rnp_code}
	</update>	
	
 
	
	<delete id="deletehr_rnp" parameterType="java.util.Map">
		delete hr_rnp
		where hr_rnp_code = #{hr_rnp_code}
	</delete>



</mapper>