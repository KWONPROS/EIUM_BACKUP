<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.hm_p0007">
	<resultMap id="P0007resultVO" type="HM_P0007VO">
		<result property="employee_code" column="employee_code" />
        <result property="employee_name" column="employee_name" />
         <result property="employee_name_hn" column="employee_name_hn" />
        <result property="hire_type" column="hire_type" />
        <result property="hire_number" column="hire_number" />
        <result property="current_address" column="current_address" />
        <result property="current_address_detail" column="current_address_detail" />
        <result property="resist_address" column="resist_address" />
        <result property="resist_address_detail" column="resist_address_detail" />
        <result property="marriage_yn" column="marriage_yn" />
        <result property="religion" column="religion" />
        <result property="military_type" column="military_type" />
        <result property="military_number" column="military_number" />
        <result property="discharge_yn" column="discharge_yn" />
        <result property="residential_division" column="residential_division" />
        <result property="hr_appoint_number" column="hr_appoint_number" />
        <result property="hr_appoint_date" column="hr_appoint_date" />
        <result property="hr_appoint_title" column="hr_appoint_title" />
        <result property="hr_appoint_history" column="hr_appoint_history" />
        <result property="hr_appoint_before_info" column="hr_appoint_before_info" />
        <result property="hr_appoint_current_info" column="hr_appoint_current_info" />
        <result property="hr_appoint_after_info" column="hr_appoint_after_info" />
	</resultMap> 
 
	<select id="searchList" resultMap="P0007resultVO" parameterType="java.util.Map"> 
      <![CDATA[
         select e.employee_code, e.employee_name, eh.employee_name_hn, eh.hire_type, eh.hire_number,  eh.current_address, eh.current_address_detail, eh.resist_address, eh.resist_address_detail, eh.marriage_yn, eh.religion, eh.military_type, eh.military_number, eh.discharge_yn, eh.residential_division, ha.hr_appoint_number, ha.hr_appoint_date, ha.hr_appoint_title, ha.hr_appoint_history, ha.hr_appoint_before_info, ha.hr_appoint_current_info, ha.hr_appoint_after_info
         from employee e, employee_hr_info eh, hr_appoint ha
         where e.employee_code = eh.employee_code
         order by e.employee_code
      ]]>
      
	</select>
	
	<update id="updateData" parameterType="java.util.Map">
		update SITE
		set  
		     SITE_NAME = #{site_NAME}
		   , SITE_RESISTRATION_NUMBER = #{site_RESISTRATION_NUMBER}
		   , SITE_CORPARATION_NUMBER = #{site_CORPARATION_NUMBER}
		   , SITE_REPRESENTATIVE_NAME = #{site_REPRESENTATIVE_NAME}
		   , SITE_ZIP_CODE = #{site_ZIP_CODE}
		   , SITE_ADDRESS = #{site_ADDRESS}
		   , SITE_ADDRESS_DETAIL = #{site_ADDRESS_DETAIL}
		   , SITE_CONTACT = #{site_CONTACT}
		   , SITE_FAX = #{site_FAX}
		   , SITE_CATEGORY = #{site_CATEGORY}
		   , SITE_TYPE = #{site_TYPE}
		   , SITE_OPENBUSINESS_DATE = #{site_OPENBUSINESS_DATE}
		   , SITE_CLOSEBUSINESS_DATE = #{site_CLOSEBUSINESS_DATE}
		   , SITE_BUSINESS_AVAILABLE = #{site_BUSINESS_AVAILABLE}
		where TRIM(SITE_CODE) = #{site_CODE}
	</update>	
	
 <insert id="insertData" parameterType="java.util.Map">
		insert into SITE(SITE_CODE,SITE_NAME,SITE_RESISTRATION_NUMBER,SITE_CORPARATION_NUMBER,SITE_REPRESENTATIVE_NAME,SITE_ZIP_CODE,SITE_ADDRESS,SITE_ADDRESS_DETAIL,SITE_CONTACT,SITE_FAX,SITE_CATEGORY,SITE_TYPE,SITE_OPENBUSINESS_DATE,SITE_CLOSEBUSINESS_DATE,SITE_BUSINESS_AVAILABLE) 
		values(#{site_CODE},#{site_NAME},#{site_RESISTRATION_NUMBER},#{site_CORPARATION_NUMBER},#{site_REPRESENTATIVE_NAME},#{site_ZIP_CODE},#{site_ADDRESS}, #{site_ADDRESS_DETAIL},#{site_CONTACT},#{site_FAX},#{site_CATEGORY},#{site_TYPE},#{site_OPENBUSINESS_DATE},#{site_CLOSEBUSINESS_DATE},#{site_BUSINESS_AVAILABLE})
	</insert>	
	
	<delete id="deleteData" parameterType="java.util.Map">
		delete SITE
		where TRIM(SITE_CODE) = #{site_CODE}
	</delete>


</mapper>